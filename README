Что умеет скрипт.

Умеет все тоже, что и скрипт на bash, только работает быстрее, один скрипт может обновлять обе версии и можно использовать на любой платформе (сам не пробовал) .

    Обновляет базы с официальных и бесплатных серверов NOD32 (для официальных серверов нужно задать имя и пароль для обновления). Причем, при обновлении с бесплатных серверов скрипт пробует обновится со всех серверов, указанных в update.ver и прекращает работу при первом удачном обновлении.
    Может работать через прокси сервер с аутентификацией и без нее.
    Может отправлять сообщение на указанный п/я с информацией об ошибке или при удачном обновлении с изменением версии базы.
    Обновляет сразу базы для V2 и V3, но может и отдельно.
    Если на сервере названия файлов не совпадают с локальными - не качает, а переименовывает файлы.
    Сам создает файл update.ver. Те при обновлении с зеркал обновляются только компоненты с более новыми версиями.
    Автоматически создает папки, нужные для работы программы, в том числе и для Web сервера.
    Создает папку на веб сервере с файлами обновления.
    При ошибке обновления восстанавливает базу в том виде, которая была до обновления. 

Скрипт автоматически создает папки для временного хранения копий баз /var/lib/nod32/mirror_V2 и /var/lib/nod32/mirror_V3 и загружает туда файлы антивирусных баз. Если обновление прошло успешно, то переписывает базы в WEB директорию, а если произошла ошибка, то наоборот, восстанавливает базы, переписывая их из WEB директории в папку временного хранения.

Спасибо Kode (http://madbadjack.com/forum/showthread.php?t=2783) - использовал его функции. Так как не очень большой спец в PHP, то прошу не пинать, а если можно то помочь доработать.

Из чего состоит

    update.php - Сам скрипт
    function.php - Файл функций
    section.php - Файл описания секций
    setup.php - Файл установок 
